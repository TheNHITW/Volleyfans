/* ===== base ===== */
html, body { max-width:100%; overflow-x:hidden; -webkit-text-size-adjust:100%; }
.page { padding:16px; max-width:100%; min-height:100dvh; }
.card-section { margin:16px 0; padding:16px; border-radius:16px; background:#f6f7fb; box-shadow:0 4px 10px rgba(0,0,0,0.08); overflow:hidden; }
.muted { color:#666; }

/* scroll orizzontale SOLO dove lo decidi tu */
.table-wrapper { width:100%; overflow:visible; }
.x-scroll { overflow-x:auto; overflow-y:hidden; max-width:100vw; -webkit-overflow-scrolling:touch; overscroll-behavior-x:contain; }
.y-scroll { overflow-y:auto; -webkit-overflow-scrolling:touch; overscroll-behavior-y:contain; }

/* ===== Composizione Gironi ===== */
.gironi-grid {
  display:grid; grid-template-columns:repeat(auto-fit, minmax(240px,1fr));
  gap:14px; margin-top:8px;
}
.girone-block {
  background:#fff; border:1px solid #ececec; border-radius:12px; padding:12px 14px;
  box-shadow:0 2px 10px rgba(0,0,0,0.04);
}
.girone-block h4 { margin:0 0 8px; font-weight:700; color:#ff6600; }
.girone-block mat-list { padding:0; margin:0; }
.girone-block mat-list-item { display:block; padding:8px 0; border-bottom:1px dashed #efefef; line-height:1.35; }
.girone-block mat-list-item:last-child { border-bottom:none; }

/* ===== Matrice risultati ===== */
.matrix-grid { display:grid; grid-template-columns:1fr 380px; gap:16px; align-items:start; }
@media (max-width:920px){ .matrix-grid{ grid-template-columns:1fr; } }
.matrix-wrap h4, .rounds-wrap h4 { margin:6px 0 10px; }

.matrix-table {
  width:100%; border-collapse:collapse; table-layout:fixed; min-width:700px;
  border:1px solid #e5e7eb; background:#fff;
}
.matrix-table thead th {
  position:sticky; top:0; z-index:2; background:#ff6600; color:#fff; font-weight:700;
  text-align:center; padding:7px 5px; white-space:nowrap;
}

/* colonne lockate (restano visibili mentre scorri): # e Squadra */
.matrix-table .corner {
  position:sticky; left:0; z-index:5; background:#ff6600; color:#fff; text-align:center; width:40px;
  box-shadow: 1px 0 0 #e5e7eb;
}
.matrix-table .row-index {
  position:sticky; left:0; z-index:4; background:#fff4eb; color:#ff6600; text-align:center; width:40px;
  border-right:1px solid #e5e7eb; box-shadow: 1px 0 0 #e5e7eb;
}
.matrix-table .row-team-hd {
  position:sticky; left:40px; z-index:5; background:#ff6600; color:#fff; text-align:left; padding-left:8px;
  width:220px; box-shadow: 1px 0 0 #e5e7eb;
}
.matrix-table .row-team {
  position:sticky; left:40px; z-index:4; background:#fff4eb; color:#ff6600; font-weight:600;
  text-align:left; padding:6px 8px; white-space:nowrap; border-right:1px solid #e5e7eb;
  width:220px; max-width:220px; overflow:hidden; text-overflow:ellipsis;
  box-shadow: 1px 0 0 #e5e7eb;
}

/* colonne scorrevoli (1..N + stats) */
.matrix-table thead .col-team { width:46px; }
.matrix-table td {
  width:46px; height:34px; text-align:center; vertical-align:middle;
  padding:4px 3px; font-size:12.5px; line-height:1; white-space:nowrap;
  border-bottom:1px solid #e5e7eb; border-right:1px solid #e5e7eb;
}
.matrix-table td:last-child { border-right:none; }

/* esito */
.matrix-table td.win  { background:#e9f7ef; font-weight:600; }
.matrix-table td.loss { background:#fdeaea; color:#b00020; font-weight:600; }
.matrix-table td.draw { background:#eef3ff; }
.matrix-table td.empty{ color:#aaa; }
.matrix-table td.diag { background:#f6f6f6; color:#bbb; }

/* riepilogo stretto */
.matrix-table .stat-hd { background:#ff9b59; }
.matrix-table .stat { background:#fffdf7; font-weight:600; text-align:center; padding:5px 4px; }
.matrix-table .stat.vs   { width:62px; }
.matrix-table .stat.pf   { width:68px; }
.matrix-table .stat.diff { width:68px; }
.matrix-table .stat .pos { color:#0a7f3f; }
.matrix-table .stat .neg { color:#b00020; }

/* ===== Risultati per round ===== */
.rounds-wrap {
  background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:12px 16px;
  box-shadow:0 1px 6px rgba(0,0,0,0.05); max-width:100%; overflow:visible; /* no pi√π hidden */
}
.rounds-like-gironi .round-block { margin-bottom:10px; }
.rounds-like-gironi .round-title { font-weight:800; color:#ff6600; margin-bottom:6px; }
.rounds-like-gironi ul { list-style:none; padding:0; margin:0; }

/* righe: Campo N non si schiaccia mai */
.rounds-like-gironi li {
  display:grid;
  grid-template-columns: minmax(0,1fr) auto minmax(74px, max-content);
  gap:6px;
  padding:8px 0;
  align-items:center;
  border-bottom:1px dashed #efefef;
}
.rounds-like-gironi li:last-child { border-bottom:none; }

.rounds-like-gironi .teams {
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.rounds-like-gironi .score {
  font-weight:800; justify-self:center;
}
.rounds-like-gironi .meta {
  color:#666;
  white-space:nowrap;
  min-width:74px;     /* garantisce spazio per "Campo 10" */
  width:fit-content;
  text-align:right;
  padding-left:2px;
  justify-self:end;
}

/* ===== Classifica Generale ===== */
.classifica-table { table-layout:fixed; width:100%; background:#fff; border:1px solid #e5e7eb; }
.mdc-data-table__cell, .mdc-data-table__header-cell,
.mat-mdc-cell, .mat-mdc-header-cell {
  text-align:center; padding:12px 8px;
  border-bottom:1px solid #e5e7eb; border-right:1px solid #e5e7eb;
}
.mat-mdc-row .mat-mdc-cell:last-child, .mat-mdc-header-row .mat-mdc-header-cell:last-child { border-right:none; }
.mat-mdc-row:nth-child(even){ background:#f9f9f9; }
.mat-mdc-row:hover{ background:#f1f1f1; }

/* sticky per prima (#) e seconda colonna (Squadra) anche nella classifica */
.classifica-table .cls-sticky-idx {
  position:sticky; left:0; z-index:3; background:#fff4eb; color:#ff6600; font-weight:700;
  box-shadow:1px 0 0 #e5e7eb;
}
.classifica-table .cls-sticky-team {
  position:sticky; left:48px; z-index:2; background:#fff; text-align:left !important;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; box-shadow:1px 0 0 #e5e7eb;
}

/* larghezze base classifica */
.classifica-table .mat-column-rank     { width:48px; }
.classifica-table .mat-column-team     { width:260px; }
.classifica-table .mat-column-girone   { width:80px; }
.classifica-table .mat-column-giocate  { width:64px; }
.classifica-table .mat-column-vittorie { width:64px; }
.classifica-table .mat-column-pf       { width:80px; }
.classifica-table .mat-column-ps       { width:80px; }
.classifica-table .mat-column-diff     { width:80px; }
.classifica-table .mat-column-pt       { width:90px; }

/* ===== Responsive ===== */
@media (max-width:768px){
  .matrix-table { min-width:640px; }
  .matrix-table thead th, .matrix-table td { font-size:12.5px; }
  .matrix-table thead .col-team, .matrix-table td { width:44px; }
  .matrix-table .row-team-hd, .matrix-table .row-team { width:210px; max-width:210px; }
  .matrix-table .stat.vs { width:58px; } .matrix-table .stat.pf, .matrix-table .stat.diff { width:64px; }
  .rounds-like-gironi li { padding:6px 0; gap:6px; }
}

@media (max-width:480px){
  .matrix-table { min-width:560px; }
  .matrix-table thead th, .matrix-table td { font-size:12.5px; padding:6px 4px; }
  .matrix-table .row-team-hd, .matrix-table .row-team { width:200px; max-width:200px; }
  .matrix-table thead .col-team, .matrix-table td { width:42px; height:32px; }
  .matrix-table .stat.vs { width:54px; } .matrix-table .stat.pf, .matrix-table .stat.diff { width:60px; }

  .rounds-like-gironi .round-title { font-size:14px; }
  .rounds-like-gironi li { padding:5px 0; gap:4px; }
  .rounds-like-gironi .teams { font-size:12px; }
  .rounds-like-gironi .score { font-size:13px; }
  .rounds-like-gironi .meta  { font-size:12px; }
  .classifica-table { min-width:560px; }
  .classifica-table .mat-column-team { width:220px; }
  .classifica-table .cls-sticky-team { left:48px; }
}

@media (max-width:360px){
  .rounds-like-gironi .teams { font-size:12.5px; }
  .rounds-like-gironi .score { font-size:12.5px; }
  .rounds-like-gironi .meta  { font-size:11.5px; min-width:58px; }
  .rounds-wrap { padding-right:18px; }
}
