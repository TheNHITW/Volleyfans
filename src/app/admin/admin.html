<h1>Area Admin</h1>

<!-- ðŸ”˜ Selezione della data -->
<mat-form-field appearance="fill" class="full-width" style="max-width: 300px; margin-bottom: 1rem;">
  <mat-label>Seleziona una data</mat-label>
  <mat-select [(value)]="selectedDate" (selectionChange)="onDateChange()">
    <mat-option *ngFor="let date of availableDates" [value]="date.value">
      {{ date.label }}
    </mat-option>
  </mat-select>
</mat-form-field>

<!-- ðŸ”˜ Pulsanti principali -->
<div class="admin-buttons" style="display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1rem;">
  <button mat-raised-button color="accent" (click)="exportToCSV()">
    Esporta CSV
  </button>

  <button mat-raised-button
          [ngClass]="isRegistrationOpen ? 'btn-open' : 'btn-closed'"
          (click)="toggleRegistration()">
    {{ isRegistrationOpen ? 'Iscrizioni Aperte' : 'Iscrizioni Chiuse' }}
  </button>
</div>

<!-- ðŸ“‹ Tabella squadre -->
<table *ngIf="teams.length > 0" class="admin-table" mat-table>
  <thead>
    <tr>
      <th>Nome Squadra</th>
      <th>Telefono</th>
      <th>Giocatore 1</th>
      <th>Sesso 1</th>
      <th>Giocatore 2</th>
      <th>Sesso 2</th>
      <th>Giocatore 3</th>
      <th>Sesso 3</th>
      <th>Giocatore 4</th>
      <th>Sesso 4</th>
      <th>Azioni</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let team of teams">
      <td>{{ team.teamName }}</td>
      <td>{{ team.phone }}</td>
      <td>{{ team.players[0].name }}</td>
      <td>{{ team.players[0].gender }}</td>
      <td>{{ team.players[1].name }}</td>
      <td>{{ team.players[1].gender }}</td>
      <td>{{ team.players[2].name }}</td>
      <td>{{ team.players[2].gender }}</td>
      <td>{{ team.players[3].name }}</td>
      <td>{{ team.players[3].gender }}</td>
      <td>
        <button mat-button color="warn" (click)="deleteTeam(team.teamName)">
          Cancella
        </button>
      </td>
    </tr>
  </tbody>
</table>

<p *ngIf="teams.length === 0">Nessuna squadra iscritta per la data selezionata.</p>
